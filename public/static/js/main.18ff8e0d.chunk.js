(this["webpackJsonpplantpal-client"]=this["webpackJsonpplantpal-client"]||[]).push([[0],{124:function(e,t,n){},143:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),s=n.n(c),i=(n(124),n(9)),l=n(82),o=n(7),j=n.n(o),d=n(17),h=n(22),b=n(16),u=n(15),p=n.n(u),x=(n(143),n(95)),O=n(196),m=n(103),f=n(106),v=n(197),g=n(1),w=Object(m.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var N=function(e){var t=w();return Object(g.jsx)(O.a,{children:Object(g.jsxs)(v.a,{container:!0,spacing:3,children:[Object(g.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(g.jsxs)(f.a,{className:t.paper,children:[Object(g.jsx)("h1",{children:"Your plant's hydration pal"}),Object(g.jsx)("p",{children:"Never forget to water your plant again "})]})}),Object(g.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(g.jsx)(f.a,{className:t.paper,children:"xs=12 sm=6"})})]})})},y=n(109);var k=function(e){var t=e.onSignUp;return e.isLoggedIn?Object(g.jsx)(b.a,{to:"/dashboard"}):Object(g.jsxs)(O.a,{children:[Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)("h1",{children:"Create an account"})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsxs)("form",{onSubmit:t,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputName",children:"Name"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"InputName",name:"name"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"InputUsername",name:"username"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputEmail",children:"Email address"}),Object(g.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(g.jsx)("input",{name:"password",type:"password",className:"form-control",id:"password"})]}),Object(g.jsx)(y.a,{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})};var I=function(e){var t=e.onLogIn;return e.isLoggedIn?(console.log("user is logged in; go back"),Object(g.jsx)(b.a,{to:"/dashboard"})):Object(g.jsxs)(O.a,{children:[Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)("h1",{children:"Log in to PlantPal"})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsxs)("form",{onSubmit:t,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(g.jsx)("input",{name:"username",type:"text",className:"form-control",id:"username"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(g.jsx)("input",{name:"password",type:"password",className:"form-control",id:"password"})]}),Object(g.jsx)(y.a,{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})};var C=function(e){var t=e.onEdit,n=e.onDeleteUser,r=e.user,c=Object(a.useState)([]),s=Object(h.a)(c,2),l=s[0],o=s[1];Object(a.useEffect)((function(){b()}),[]);var b=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5005/api/profile",{withCredentials:!0});case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Profile details fetch failed",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)(O.a,{children:Object(g.jsxs)("div",{children:[r&&Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsxs)("h1",{children:["Hi there, ",r.username,"!"]})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)("p",{children:"Edit your profile details using the form below."})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsxs)("form",{onSubmit:function(e){t(e,l)},children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputName",children:"Name"}),Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;o(Object(i.a)(Object(i.a)({},l),{},{name:t}))},value:l.name,type:"text",className:"form-control",id:"InputName",name:"name"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;o(Object(i.a)(Object(i.a)({},l),{},{username:t}))},value:l.username,type:"text",className:"form-control",id:"InputUsername",name:"username"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputEmail",children:"Email address"}),Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;o(Object(i.a)(Object(i.a)({},l),{},{email:t}))},value:l.email,type:"email",className:"form-control",id:"InputEmail",name:"email"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputPassword",children:"Previous Password"}),Object(g.jsx)("input",{name:"password",type:"password",className:"form-control",id:"password"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputPassword",children:"New Password"}),Object(g.jsx)("input",{name:"password",type:"password",className:"form-control",id:"password"})]}),Object(g.jsx)(y.a,{type:"submit",className:"btn btn-primary",children:"Save"})]})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)(y.a,{onClick:n,children:"Delete account"})})]})})},P=n(12),D=n(199),F=n(203),S=n(202),L=n(198),A=n(200),E=n(201);var W=function(e){var t=e.reminders,n=e.onWatering,a=e.classes;console.log("onwatering",n);var r={month:"short",day:"numeric"};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)(L.a,{component:f.a,children:Object(g.jsxs)(D.a,{className:a.table,"aria-label":"simple table",children:[Object(g.jsx)(A.a,{children:Object(g.jsxs)(E.a,{children:[Object(g.jsx)(S.a,{children:"Plant"}),Object(g.jsx)(S.a,{children:"Task"}),Object(g.jsx)(S.a,{align:"right",children:"Date Due"}),Object(g.jsx)(S.a,{align:"right",children:"Status"}),Object(g.jsx)(S.a,{align:"right",children:"Change Status"})]})}),Object(g.jsx)(F.a,{children:t.filter((function(e){return!e.complete})).map((function(e,a){return Object(g.jsxs)(E.a,{children:[Object(g.jsx)(S.a,{component:"th",scope:"row",children:e.plant.name}),Object(g.jsx)(S.a,{children:"Water Me!"}),Object(g.jsx)(S.a,{align:"right",children:new Intl.DateTimeFormat("en-GB",r).format(t.nextWatering)}),Object(g.jsx)(S.a,{align:"right",children:"To Do"}),Object(g.jsx)(S.a,{align:"right",children:Object(g.jsx)(y.a,{onClick:function(){return n(e._id)},children:"Done"})})]},a)}))})]})})})})},U=n(27),q=Object(m.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var _=function(e){var t=e.plants,n=e.reminders,a=e.onWatering,r=q();return Object(U.a)(),Object(g.jsx)(O.a,{children:Object(g.jsxs)("div",{className:r.root,children:[Object(g.jsxs)("div",{className:"space-between",children:[Object(g.jsx)("h1",{children:"Dashboard"}),Object(g.jsx)(P.b,{to:"/plants/create",children:Object(g.jsx)(y.a,{color:"secondary",children:"Add Plant"})})]}),Object(g.jsxs)(v.a,{container:!0,spacing:3,children:[Object(g.jsx)(v.a,{item:!0,xs:6,sm:3,children:Object(g.jsx)(f.a,{className:r.paper,children:Object(g.jsxs)("h3",{children:["Total Plants: ",function(){var e=t.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsx)("p",{children:e})},t)}));return Object(g.jsx)("p",{children:e.length})}()]})})}),Object(g.jsx)(v.a,{item:!0,xs:6,sm:3,children:Object(g.jsx)(f.a,{className:r.paper,children:Object(g.jsxs)("h3",{children:["Alive Plants: ",function(){var e=t.filter((function(e,t){return!0===e.isAlive}));return Object(g.jsx)("p",{children:e.length})}()]})})}),Object(g.jsx)(v.a,{item:!0,xs:6,sm:3,children:Object(g.jsx)(f.a,{className:r.paper,children:Object(g.jsxs)("h3",{children:["Deceased Plants: ",function(){var e=t.filter((function(e,t){return!1===e.isAlive}));return Object(g.jsx)("p",{children:e.length})}()]})})}),Object(g.jsx)(v.a,{item:!0,xs:6,sm:3,children:Object(g.jsx)(f.a,{className:r.paper,children:Object(g.jsxs)("h3",{children:["Plant Waterings: ",function(){var e=n.filter((function(e,t){return!0===e.complete}));return Object(g.jsx)("p",{children:e.length})}()]})})}),Object(g.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(g.jsxs)(f.a,{className:r.paper,children:["Next Reminders",Object(g.jsx)(W,{classes:r,reminders:n,onWatering:a})]})}),Object(g.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(g.jsx)(f.a,{className:r.paper,children:"Weather Forecast"})}),Object(g.jsx)(v.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{className:r.paper,children:"Plant Gallery"})})]})]})})},B=n(204),T=n(205),G=n(208),R=n(207),M=n(206),z=n(53);var J=function(e){var t=e.plants,n=e.onSearch,a=(Object(U.a)(),Object(m.a)({root:{maxWidth:"100%"},search:{maxWidth:"350px"},card:{margin:10},media:{height:140,width:200}})());return Object(g.jsx)(O.a,{children:Object(g.jsxs)("div",{className:a.root,children:[Object(g.jsxs)("div",{className:"space-between",children:[Object(g.jsxs)("div",{className:"flex-start",children:[Object(g.jsx)("h1",{children:"My Plants"}),Object(g.jsx)("div",{className:"padded",children:Object(g.jsx)(P.b,{to:"/plants/create",children:Object(g.jsx)(y.a,{color:"secondary",children:"Add Plant"})})})]}),Object(g.jsx)("div",{className:"flex-end",children:Object(g.jsx)("input",{onChange:n,type:"text",placeholder:"Search..",className:a.search})})]}),Object(g.jsx)("div",{className:"flex-box",children:t.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsxs)(B.a,{className:a.card,children:[Object(g.jsxs)(T.a,{children:[Object(g.jsx)(M.a,{className:a.media,image:e.photo,title:e.name}),Object(g.jsx)(R.a,{children:Object(g.jsx)(z.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name})}),Object(g.jsx)(R.a,{className:"isAlive-margin",children:(n=e,!0===n.isAlive?Object(g.jsx)("h2",{children:"Alive"}):Object(g.jsx)("h2",{children:"Not Alive"}))})]}),Object(g.jsx)(G.a,{children:Object(g.jsx)(P.b,{to:"/plants/".concat(e._id),children:Object(g.jsx)(y.a,{size:"small",color:"primary",children:"Details"})})})]})},t);var n}))})]})})};var H=function(e){var t=e.onAddPlant;return Object(g.jsx)(O.a,{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"space-between",children:Object(g.jsx)(P.b,{to:"/plants",children:Object(g.jsx)(y.a,{color:"secondary",children:"Go Back"})})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)("h1",{children:"Add Plant"})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsxs)("form",{onSubmit:t,action:"/plants/create",encType:"multipart/form-data",children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputName",children:"Name"}),Object(g.jsx)("input",{type:"text",name:"name",placeholder:"e.g. Freddie",required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputUsername",children:"Description"}),Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g. my beloved cheeseplant",name:"description"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputEmail",children:"Reminder Frequency"}),Object(g.jsx)("input",{type:"number",name:"waterFreq",placeholder:"number of days",required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"InputUsername",children:"Plant Photo"}),Object(g.jsx)("input",{type:"file",name:"photo",accept:"image/png, image/jpg",required:!0})]}),Object(g.jsx)(y.a,{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})};var Y=function(e){var t=e.reminders,n=Object(a.useState)({}),r=Object(h.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.match.params.plantId,t.next=4,p.a.get("http://localhost:5005/api/plants/".concat(n),{withCredentials:!0});case 4:a=t.sent,s(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Plant details fetch failed",t.t0);case 11:case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();if(!c)return"page is Loading";if(t){var l=t.find((function(e){return e.plant._id==c._id&&!e.complete}));l&&l.nextWatering}return Object(g.jsx)(O.a,{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"space-between",children:[Object(g.jsx)(P.b,{to:"/plants",children:Object(g.jsx)(y.a,{color:"secondary",children:"Go Back"})}),Object(g.jsxs)("h3",{children:["Next Reminder: ",new Intl.DateTimeFormat("en-GB",{month:"short",day:"numeric"}).format(t.nextWatering)]})]}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)("h1",{children:c.name})}),Object(g.jsx)("div",{className:"flex-box",children:!0===c.isAlive?Object(g.jsx)("p",{children:"Alive"}):Object(g.jsx)("p",{children:"Deceased"})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsxs)("p",{children:["I need watering every ",c.waterFreq," days."]})}),Object(g.jsx)("div",{className:"flex-box padded",children:Object(g.jsx)("img",{src:c.photo,alt:"{plantDetail.name}",height:"500"})}),Object(g.jsxs)("div",{className:"flex-box",children:[Object(g.jsx)(P.b,{to:"/plants/".concat(c._id,"/edit"),children:Object(g.jsx)(y.a,{children:"Edit"})}),Object(g.jsx)(P.b,{children:Object(g.jsx)(y.a,{onClick:function(){e.onDelete(c._id)},children:"Delete"})})]})]})})};var K=function(e){var t=e.onEdit,n=Object(a.useState)([]),r=Object(h.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)(Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.match.params.plantId,t.next=4,p.a.get("http://localhost:5005/api/plants/".concat(n),{withCredentials:!0});case 4:a=t.sent,s(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("edit plant fetch failed2",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),[]),c?Object(g.jsx)(O.a,{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"space-between",children:Object(g.jsx)(P.b,{to:"/plants",children:Object(g.jsx)(y.a,{color:"secondary",children:"Go Back"})})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)("h1",{children:"Edit Plant"})}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsxs)("form",{onSubmit:function(e){t(e,c)},children:[Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;s(Object(i.a)(Object(i.a)({},c),{},{name:t}))},value:c.name,name:"name",type:"text",placeholder:"Enter name"}),Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;s(Object(i.a)(Object(i.a)({},c),{},{description:t}))},value:c.description,name:"description",type:"text",placeholder:"Enter description"}),Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;s(Object(i.a)(Object(i.a)({},c),{},{waterFreq:t}))},value:c.waterFreq,name:"waterFreq",type:"number",placeholder:"Set frequency for reminders (in days)"}),Object(g.jsx)("label",{for:"isAlive",children:"Choose the status:"}),Object(g.jsxs)("select",{onChange:function(e){var t=e.target.value;s(Object(i.a)(Object(i.a)({},c),{},{isAlive:t}))},id:"plantDetail.isAlive",name:"isAlive",children:[Object(g.jsx)("option",{value:"",children:"Is it alive or dead?"}),Object(g.jsx)("option",{value:"true",children:"Alive"}),Object(g.jsx)("option",{value:"false",children:"Dead"})]}),Object(g.jsx)(y.a,{type:"submit",children:"Submit"})]})})]})}):"Loading..."},Q=Object(m.a)({table:{minWidth:500}});var V=function(e){var t=e.reminders,n=e.onWatering,a=Q(),r={month:"short",day:"numeric"};return Object(g.jsxs)(O.a,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("h1",{children:"Reminders"})}),Object(g.jsx)("h2",{children:"To Do"}),Object(g.jsx)(W,{classes:a,reminders:t,onWatering:n}),Object(g.jsx)("h2",{children:"Done"}),Object(g.jsx)("div",{className:"flex-box",children:Object(g.jsx)(L.a,{component:f.a,children:Object(g.jsxs)(D.a,{className:a.table,"aria-label":"simple table",children:[Object(g.jsx)(A.a,{children:Object(g.jsxs)(E.a,{children:[Object(g.jsx)(S.a,{children:"Plant"}),Object(g.jsx)(S.a,{children:"Task"}),Object(g.jsx)(S.a,{align:"right",children:"Date Due"}),Object(g.jsx)(S.a,{align:"right",children:"Status"}),Object(g.jsx)(S.a,{align:"right",children:"Date Changed"})]})}),Object(g.jsx)(F.a,{children:t.filter((function(e){return e.complete})).map((function(e,n){return Object(g.jsxs)(E.a,{children:[Object(g.jsx)(S.a,{component:"th",scope:"row",children:e.plant.name}),Object(g.jsx)(S.a,{children:"Water Me!"}),Object(g.jsx)(S.a,{align:"right",children:new Intl.DateTimeFormat("en-GB",r).format(t.nextWatering)}),Object(g.jsx)(S.a,{align:"right",children:"Done"}),Object(g.jsx)(S.a,{align:"right",children:new Intl.DateTimeFormat("en-GB",r).format(t.wateredAt)})]},n)}))})]})})})]})};var X=function(){return Object(g.jsx)(O.a,{children:"404 Error"})},Z=n(102),$=n(209),ee=n(72),te=n(71),ne=Object(Z.a)({palette:{primary:{main:ee.a[500]},secondary:{main:te.a[500]},contrastThreshold:3,tonalOffset:.2}});var ae=Object(b.g)((function(e){var t=Object(a.useState)(null),n=Object(h.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),o=Object(h.a)(s,2),u=o[0],O=o[1],m=Object(a.useState)([]),f=Object(h.a)(m,2),v=f[0],w=f[1],y=Object(a.useState)([]),P=Object(h.a)(y,2),D=P[0],F=P[1],S=Object(a.useState)([]),L=Object(h.a)(S,2),A=L[0],E=L[1],W=Object(a.useState)(!0),U=Object(h.a)(W,2),q=U[0],B=U[1];Object(a.useEffect)((function(){G(),u&&(R(),M())}),[u]),Object(a.useEffect)((function(){z()}),[v,D]);var T=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5005/api/dashboard/test",{withCredentials:!0});case 3:t=e.sent,console.log("weather data",t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error weather");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var t=Object(d.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("http://localhost:5005/api/user",{withCredentials:!0});case 3:n=t.sent,console.log("fetch user",n.data),c(n.data),O(!0),B(!1),t.next=17;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("User not logged in",t.t0),c(null),O(!1),B(!1),e.history.push("/");case 17:case 18:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5005/api/plants",{withCredentials:!0});case 3:t=e.sent,w(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("plants fetch failed",e.t0);case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5005/api/plants",{withCredentials:!0});case 3:t=e.sent,F(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("plants fetch failed",e.t0);case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5005/api/reminders",{withCredentials:!0});case 3:t=e.sent,console.log("in the fetchreminders function",t.data),E(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("reminders fetch failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var t=Object(d.a)(j.a.mark((function t(n){var a,r,c,s,i,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=n.target,r=a.name,c=a.username,s=a.email,i=a.password,l={name:r.value,username:c.value,email:s.value,password:i.value},t.prev=3,t.next=6,p.a.post("http://localhost:5005/api/signup",l,{withCredentials:!0});case 6:e.history.push("/login"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log("Signup failed",t.t0);case 12:case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=Object(d.a)(j.a.mark((function t(n){var a,r,s,i,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=n.target,r=a.username,s=a.password,i={username:r.value,password:s.value},t.prev=3,t.next=6,p.a.post("http://localhost:5005/api/login",i,{withCredentials:!0});case 6:l=t.sent,c(l.data),console.log("login function",l.data),O(!0),e.history.push("/dashboard"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log("Login failed",t.t0);case 16:case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("http://localhost:5005/api/logout",{},{withCredentials:!0});case 3:c(null),O(!1),console.log("sign out succesfull"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Logout failed",e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("http://localhost:5005/api/profile",{withCredentials:!0});case 3:c(null),O(!1),e.history.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Deleting account failed",t.t0);case 11:case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),ae=function(){var t=Object(d.a)(j.a.mark((function t(n){var a,r,c,s,i,o,d,h;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(a=new FormData).append("imageUrl",n.target.photo.files[0]),t.next=5,p.a.post("http://localhost:5005/api/upload",a);case 5:return r=t.sent,c=n.target,s=c.name,i=c.description,o=c.waterFreq,c.fertiliseFreq,d={name:s.value,description:i.value,waterFreq:o.value,photo:r.data.photo},t.prev=8,t.next=11,p.a.post("http://localhost:5005/api/plants/create",d,{withCredentials:!0});case 11:h=t.sent,d=h.data,console.log(v,"in add plant handler"),w([d].concat(Object(l.a)(v))),F([d].concat(Object(l.a)(D))),e.history.push("/plants"),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),console.log("create plant failed",t.t0);case 22:case 23:case"end":return t.stop()}}),t,null,[[8,19]])})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("http://localhost:5005/api/plants/".concat(n),{withCredentials:!0});case 3:a=v.filter((function(e){return e._id!==n})),w(a),F(a),e.history.push("/plants"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("delete plant failed",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),ce=function(){var t=Object(d.a)(j.a.mark((function t(n,a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,p.a.patch("http://localhost:5005/api/plants/".concat(a._id,"/edit"),a,{withCredentials:!0});case 4:r=v.map((function(e){return e._id===a._id&&(e.photo=a.photo,e.name=a.name,e.description=a.description,e.waterFreq=a.waterFreq,e.isAlive=a.isAlive),e})),w(r),F(r),e.history.push("/plants"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("edit plant fetch failed",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),se=function(e){var t=e.target.value,n=v.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));F(n)},ie=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.patch("http://localhost:5005/api/reminders/".concat(t),{},{withCredentials:!0});case 3:return e.next=5,p.a.get("http://localhost:5005/api/reminders",{withCredentials:!0});case 5:n=e.sent,E(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("handling the reminder failed",e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var t=Object(d.a)(j.a.mark((function t(n,a){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,p.a.patch("http://localhost:5005/api/profile/".concat(a._id),a,{withCredentials:!0});case 4:s=r.map((function(e){return e._id===a._id&&(e.name=a.name,e.username=a.username),e})),c(s),e.history.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("handling edit profile error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}();return q?Object(g.jsx)("p",{children:"Loading . . . "}):Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)($.a,{theme:ne,children:[Object(g.jsx)(x.a,{user:r,onLogOut:ee,isLoggedIn:u}),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)(b.d,{children:[Object(g.jsx)(b.b,{exact:!0,path:"/",render:function(e){return Object(g.jsx)(N,Object(i.a)({user:r,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{path:"/signup",render:function(e){return Object(g.jsx)(k,Object(i.a)({onSignUp:Q,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{path:"/login",render:function(e){return Object(g.jsx)(I,Object(i.a)({onLogIn:Z,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{path:"/profile",render:function(e){return Object(g.jsx)(C,Object(i.a)({user:r,setUser:c,onEdit:le,onDeleteUser:te,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{exact:!0,path:"/dashboard",render:function(e){return Object(g.jsx)(_,Object(i.a)({user:r,plants:v,reminders:A,onWatering:ie},e))}}),Object(g.jsx)(b.b,{exact:!0,path:"/plants",render:function(e){return Object(g.jsx)(J,Object(i.a)({onSearch:se,plants:D,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{path:"/plants/create",render:function(e){return Object(g.jsx)(H,Object(i.a)({onAddPlant:ae,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{exact:!0,path:"/plants/:plantId",render:function(e){return Object(g.jsx)(Y,Object(i.a)({onDelete:re,reminders:A,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{path:"/plants/:plantId/edit",render:function(e){return Object(g.jsx)(K,Object(i.a)({onEdit:ce,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{exact:!0,path:"/reminders",render:function(e){return Object(g.jsx)(V,Object(i.a)({onWatering:ie,reminders:A,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{exact:!0,path:"/dashboard/test",render:function(e){return Object(g.jsx)(_,Object(i.a)({user:r,plants:v,reminders:A,weather:T,isLoggedIn:u},e))}}),Object(g.jsx)(b.b,{component:X})]})})]})})}));s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(P.a,{children:Object(g.jsx)(ae,{})})}),document.getElementById("root"))},95:function(e,t,n){"use strict";(function(e){var a=n(22),r=n(0),c=n.n(r),s=n(103),i=n(153),l=n(154),o=n(53),j=n(107),d=n(96),h=n.n(d),b=n(81),u=n.n(b),p=n(108),x=n(157),O=n(83),m=n(12),f=n(156),v=n(39),g=n(84),w=n(45),N=n(54),y=n(55),k=n(109),I=n(27),C=n(99),P=n.n(C),D=n(100),F=n.n(D),S=n(98),L=n.n(S),A=n(97),E=n.n(A),W=n(101),U=n.n(W),q=n(1),_=Object(s.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));t.a=function(t){var n=t.onLogOut,d=t.isLoggedIn,b=t.user,C=(Object(I.a)(),_()),D=Object(s.a)({list:{width:250}}),S=c.a.useState(null),A=Object(a.a)(S,2),W=A[0],B=A[1],T=c.a.useState(!1),G=Object(a.a)(T,2),R=G[0],M=G[1],z=Boolean(W),J=Boolean(R),H=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent);Object(r.useEffect)((function(){return function(){M(!1)}}),[]);var Y=function(){B(null)},K=function(){Y(),n()};return Object(q.jsx)("div",{className:C.root,children:Object(q.jsx)(i.a,{position:"static",children:Object(q.jsxs)(l.a,{children:[b&&Object(q.jsx)(j.a,{edge:"start",className:C.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return d&&M(!0)},children:Object(q.jsx)(h.a,{})}),Object(q.jsx)(o.a,{variant:"h6",className:C.title,children:Object(q.jsx)(O.a,{component:m.b,to:"/",color:"inherit",children:"PlantPal"})}),b&&Object(q.jsx)(f.a,{disableBackdropTransition:!H,disableDiscovery:H,anchor:"left",open:J,onClose:function(){return M(!1)},onOpen:function(){return M(!0)},children:Object(q.jsxs)("div",{className:D.list,children:[Object(q.jsx)(v.a,{}),Object(q.jsx)(v.a,{children:Object(q.jsxs)(w.a,{button:!0,component:m.b,to:"/",children:[Object(q.jsxs)(N.a,{children:[Object(q.jsx)(E.a,{color:"secondary"})," "]}),Object(q.jsx)(y.a,{children:"PlantPal"})]})}),Object(q.jsx)(v.a,{children:Object(q.jsx)(g.a,{})}),Object(q.jsx)(v.a,{children:Object(q.jsxs)(w.a,{button:!0,component:m.b,to:"/profile/".concat(b._id),children:[Object(q.jsxs)(N.a,{children:[Object(q.jsx)(u.a,{color:"secondary"})," "]}),Object(q.jsxs)(y.a,{children:[" ",b.username," "]})]})}),Object(q.jsx)(v.a,{children:Object(q.jsx)(g.a,{})}),Object(q.jsxs)(v.a,{children:[Object(q.jsxs)(w.a,{button:!0,component:m.b,to:"/dashboard",children:[Object(q.jsxs)(N.a,{children:[Object(q.jsx)(L.a,{color:"primary"})," "]}),Object(q.jsx)(y.a,{children:"Dashboard"})]}),Object(q.jsxs)(w.a,{button:!0,component:m.b,to:"/plants",children:[Object(q.jsxs)(N.a,{children:[Object(q.jsx)(P.a,{color:"primary"})," "]}),Object(q.jsx)(y.a,{children:"Plants"})]}),Object(q.jsxs)(w.a,{button:!0,component:m.b,to:"/reminders",children:[Object(q.jsxs)(N.a,{children:[Object(q.jsx)(F.a,{color:"primary"})," "]}),Object(q.jsx)(y.a,{children:"Reminders"})]})]}),Object(q.jsx)(v.a,{children:Object(q.jsx)(g.a,{})}),Object(q.jsx)(v.a,{children:Object(q.jsxs)(w.a,{button:!0,onClick:K,children:[Object(q.jsxs)(N.a,{children:[Object(q.jsx)(U.a,{color:"secondary"})," "]}),Object(q.jsx)(y.a,{children:"Sign out"})]})})]})}),d?Object(q.jsxs)("div",{children:[Object(q.jsx)(j.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){B(e.currentTarget)},color:"inherit",children:Object(q.jsx)(u.a,{})}),Object(q.jsxs)(x.a,{id:"menu-appbar",anchorEl:W,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:z,onClose:Y,children:[b&&Object(q.jsx)(p.a,{button:!0,component:m.b,to:"/profile/".concat(b._id),onClick:Y,children:"Profile"}),Object(q.jsx)(p.a,{onClick:K,children:"Sign out"})]})]}):Object(q.jsxs)("div",{children:[Object(q.jsx)(O.a,{button:!0,component:m.b,to:"/login",color:"inherit",children:Object(q.jsx)(k.a,{children:"Login"})}),Object(q.jsx)(O.a,{button:!0,component:m.b,to:"/signup",color:"inherit",children:Object(q.jsx)(k.a,{children:"Signup"})})]})]})})})}}).call(this,n(90))}},[[151,1,2]]]);
//# sourceMappingURL=main.18ff8e0d.chunk.js.map